<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="user-scalable=no, width=device-width,initial-scale=1,minimum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="./js/oldIE/html5shiv.min.js"></script>
    <script src="./js/oldIE/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">

    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/components/header.css">
    <link rel="stylesheet" href="css/components/footer.css">

    <link rel="stylesheet" href="css/stores.css">
    <title>加入我们</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-inverse">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">
                        <figure></figure>
                    </a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="about.html">君工</a></li>
                        <li><a href="products.html">产品</a></li>
                        <li><a href="service.html">服务</a></li>
                        <li><a href="action.html">动态</a></li>
                        <li><a href="investment.html">招商</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <figure class="banner" style="background-image: url('./images/stores/banner.png');"></figure>
        <section class="page flex-content">
            <div class="title">
                <h3>君工零售店</h3>
                <div class="">
                    <select class="form-control" name="province" id="province" style="width: 110px;display: inline-block;margin: 0 5px;"
                            data-bv-notempty data-bv-notempty-message="请选择省份" onchange="getCity();">
                        <option value="">请选择省份</option>
                    </select>
                    <select class="form-control" name="city" id="city"
                            data-bv-notempty data-bv-notempty-message="请选择城市" onchange="getStores();" style="width: 110px;display: inline-block;margin: 0 5px;">
                        <option value="">请选择城市</option>
                    </select>
                </div>
            </div>
            <div class="content" id="storesArea">
                <div class="store-single">
                    <div class="area-title">
                        <h4>王府井百货</h4>
                    </div>
                    <div class="context">
                        <p>北京市东城区王府井大街王府井百货北馆5层8848专柜</p>
                    </div>
                </div>
                <div class="store-single">
                    <div class="area-title">
                        <h4>王府井百货</h4>
                    </div>
                    <div class="context">
                        <p>北京市东城区王府井大街王府井百货北馆5层8848专柜</p>
                    </div>
                </div>
                <div class="store-single">
                    <div class="area-title">
                        <h4>王府井百货</h4>
                    </div>
                    <div class="context">
                        <p>北京市东城区王府井大街王府井百货北馆5层8848专柜</p>
                    </div>
                </div>
                <div class="store-single">
                    <div class="area-title">
                        <h4>王府井百货</h4>
                    </div>
                    <div class="context">
                        <p>北京市东城区王府井大街王府井百货北馆5层8848专柜</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-body">
            <div class="content-entity about">
                <a class="footer-link" href="about.html">公司简介</a>
                <hr>
                <a class="footer-link" href="stores.html">营销中心</a>
                <hr>
                <a class="footer-link" href="service.html">服务中心</a>
                <hr>
                <a class="footer-link" href="joinus.html">招贤纳士</a>
                <hr>
                <a class="footer-link" href="contact.html">联系我们</a>
            </div>
            <hr class="large-divider">
            <div class="content-entity market">
                <a class="footer-link" href="">天猫旗舰店</a>
                <hr>
                <a class="footer-link" href="">京东旗舰店</a>
            </div>
            <hr class="large-divider">
            <div class="content-entity scan-code">
                <div class="qr-code">
                    <figure></figure>
                    <p>关注我们</p>
                </div>
                <div class="qr-code">
                    <figure></figure>
                    <p>官方APP</p>
                </div>
            </div>
            <hr class="large-divider">
            <div class="content-entity contact">
                <p>服务热线</p>
                <p class="phone-number"><i class="fa fa-phone" aria-hidden="true"></i> 400-000-0000</p>
                <p>咨询服务 周一至周日9：00-15：30</p>
                <p>快速服务 周一至周日 24小时 （仅收市话费）</p>
            </div>
            <div class="content-entity copyright">
                <p>Copyright © 2017, Jung Gong Intelligent Technology Co., Ltd. Al</p>
                <p>君工智能科技有限公司</p>
                <p>京ICP备88888888号</p>
            </div>
        </div>
    </footer>

<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="./js/jquery.min.js"></script>
<script type="text/javascript" src="./js/bootstrap.min.js"></script>
<script type="text/javascript" src="./js/common.js"></script>
<!-- Custom javascripts for this template -->
<script type="text/javascript">
$(function(){

  getProvince();

});

// 获取门店信息
function getStores() {

  var json = {};

  json.city = $('#city').val();

  if (json.city == '') {
    return;
  }

  $.ajax({
    type: "POST",
    url: "",
    dataType:"JSON",
    data: json,
    success:function(data){
      if (data.success == true) {
        $("#storesArea").html('');
        var html = '';
        $.each(data.stores, function (key, value) {
          html += '<div class="store-single">' +
              '<div class="area-title">' +
              '<h4>' + value.name + '</h4>' +
              '</div>' +
              '<div class="context">' +
              '<p>' + value.address + '</p>' +
              '</div>' +
              '</div>';
        });
        $(html).appendTo($("#storesArea"));
      } else {
        console.log(data.message);
      }
    },
    error:function(data){
      // 模拟的返回数据data的结构
      data = {
        success : true,
        message: '获取成功',
        stores: [
          { id: 1, name: '通州区1号店', address: '北京市东城区王府井大街王府井百货北馆5层8848专柜' },
          { id: 2, name: '海淀区2号店', address: '北京市东城区王府井大街王府井百货北馆5层8848专柜2' },
          { id: 3, name: '朝阳区3号店', address: '北京市东城区王府井大街王府井百货北馆5层8848专柜3' },
        ]
      };
      $("#storesArea").html('');
      var html = '';
      $.each(data.stores, function (key, value) {
        html += '<div class="store-single">' +
                    '<div class="area-title">' +
                        '<h4>' + value.name + '</h4>' +
                    '</div>' +
                    '<div class="context">' +
                        '<p>' + value.address + '</p>' +
                    '</div>' +
                '</div>';
      });
      $(html).appendTo($("#storesArea"));
    },
    complete:function(data){

    }
  });
}

// 省份／城市
function getProvince() {

  var json = {};

  $.ajax({
    type: "POST",
    url: "",
    dataType:"JSON",
    data: json,
    success:function(data){
      if (data.success == true) {
        $.each(data.cities, function (key, value) {
          $('<option value="' + value.id + '">' + value.name + '</option>').appendTo($("#province"));
        })
      } else {
        console.log(data.message);
      }
    },
    error:function(data){
      // 模拟的返回数据data的结构
      data = {
        success : true,
        message: '获取成功',
        cities: [
          { id: 1, name: '北京市' },
          { id: 2, name: '河北省' },
          { id: 3, name: '山西省' },
        ]
      };
      $.each(data.cities, function (key, value) {
        $('<option value="' + value.id + '">' + value.name + '</option>').appendTo($("#province"));
      })
    },
    complete:function(data){

    }
  });
}

function getCity() {

  var json = {};

  json.province = $('#province').val();

  if (json.province == '') {
    $('#city').val('');
    return;
  }

  $.ajax({
    type: "POST",
    url: "",
    dataType:"JSON",
    data: json,
    success:function(data){
      if (data.success == true) {
        $("#city").html('');
        $('<option value="">请选择城市</option>').appendTo($("#city"));
        $.each(data.cities, function (key, value) {
          $('<option value="' + value.id + '">' + value.name + '</option>').appendTo($("#city"));
        })
      } else {
        console.log(data.message);
      }
    },
    error:function(data){
      // 模拟的返回数据data的结构
      data = {
        success : true,
        message: '获取成功',
        cities: [
          { id: 1, name: '通州区' },
          { id: 2, name: '海淀区' },
          { id: 3, name: '朝阳区' },
        ]
      };
      $("#city").html('');
      $('<option value="">请选择城市</option>').appendTo($("#city"));
      $.each(data.cities, function (key, value) {
        $('<option value="' + value.id + '">' + value.name + '</option>').appendTo($("#city"));
      })
    },
    complete:function(data){

    }
  });
}
</script>
</body>
</html>